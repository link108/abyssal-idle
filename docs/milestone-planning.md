# Abyssal Idle — Milestone Planning: Collections Page

This document defines the Collections Page feature.

Purpose:
- Reinforce long-term engagement and replay.
- Support prestige and multi-run goals.
- Provide visibility into fish and recipe discovery.
- Surface fun stats and progression without cluttering the main screen.

Collections must persist across runs.

---

# Milestone Goal

Ship a functional Collections Page accessible from the main screen that:

- Has a left sidebar for collection categories.
- Displays discovered + undiscovered items.
- Shows greyed-out placeholders for undiscovered entries.
- Supports configurable hidden hover messages.
- Allows clicking a fish to view detailed stats.
- Persists collection state across runs.

---

# High-Level UX Structure

## Entry Point
- Button on Main Screen labeled “Collections”
- Opens modal or full-screen panel

## Layout

Left Sidebar:
- Category list (vertical)
  - Fish
  - Recipes
  - (Future: Ingredients, Achievements, Oceans, etc)

Right Panel:
- Grid of collection items for selected category
- Clicking an item opens detail panel

---

# Category 1 — Fish Collection

## Grid View Requirements

Each grid slot represents one fish type.

States:
- Discovered
- Undiscovered (placeholder)

### Discovered Fish
- Full color icon
- Name visible
- Rarity indicator (if implemented later)

### Undiscovered Fish
- Greyed-out icon silhouette
- Hidden name
- Hover tooltip text (configurable per fish)
  Example:
  - “This fish can be found really deep.”
  - “Thrives in cold waters.”
  - “Appears when the ocean is unstable.”

Tooltip must be data-driven per fish.

---

## Fish Detail View (Click Interaction)

Clicking a discovered fish opens a detail panel.

Display:

Core Info:
- Fish name
- Icon
- Short flavor description
- Rarity tier

Stats:
- Total caught (lifetime)
- Total sold (lifetime)
- Total tins produced using this fish
- Highest quality caught
- First discovered timestamp (optional)
- Largest single haul (optional future stat)

Optional:
- Ocean health range where discovered
- Runs discovered in

All stats must persist across prestiges.

---

# Category 2 — Recipe Collection

Recipes represent processing methods or tin types.

## Grid View

Same pattern as fish:

Discovered:
- Full icon
- Recipe name
- Small summary line

Undiscovered:
- Grey placeholder
- Hover hint
  Example:
  - “Requires advanced processing.”
  - “Unlocked through sustainable methods.”
  - “Requires prestige upgrades.”

---

## Recipe Detail View

Display:

Core Info:
- Recipe name
- Ingredients required
- Processing time
- Quality impact
- Value multiplier

Stats:
- Total tins produced with recipe
- Highest quality produced
- Revenue generated by this recipe

---

# Data Model Requirements

Collections must be data-driven.

Each fish definition must include:
- id
- display_name
- description
- rarity
- icon_reference
- hidden_tooltip_message
- discovery_condition

Each recipe definition must include:
- id
- display_name
- description
- icon_reference
- hidden_tooltip_message
- unlock_condition

Discovery state must persist in MetaState.

Track:
- discovered_items[]
- lifetime_stats_per_fish
- lifetime_stats_per_recipe

---

# Persistence Rules

Collection progress persists across:
- Prestiges
- Runs
- Endings

Run-specific stats may reset, but lifetime stats must accumulate.

Version save schema must support:
- New fish added later
- New recipes added later
- Safe defaults for undiscovered items

---

# Discovery Logic

Fish become discovered when:
- Caught for the first time

Recipes become discovered when:
- Crafted for the first time
- Or unlocked via upgrade

Undiscovered items must still render placeholder entries in grid.

---

# Placeholder System Requirements

For undiscovered entries:

- Grey silhouette icon
- Tooltip pulled from data definition
- Tooltip text configurable per item
- Tooltip should not spoil full mechanics

System must allow:
- Completely hidden (???) name
- Partial reveal (e.g., “Deepwater ???”)

---

# UI Behavior Requirements

- Sidebar selection switches category without reloading entire screen.
- Grid scrollable if needed.
- Detail panel should not block sidebar navigation.
- Clicking outside detail panel closes it (if modal).
- Keyboard/Controller navigation future-proofed (optional).

---

# Future Expansion Hooks

Collections page should be extensible to support:

- Ingredients
- Achievements
- Oceans visited
- Prestige milestones
- Endings unlocked

Design with modular category system.

---

# Balancing & Engagement Role

Collections must:
- Encourage replay.
- Reinforce sustainability vs industrial consequences.
- Support rare fish gating behind ocean health conditions.
- Provide tangible reason to pursue dual mastery ending.

Rare fish should:
- Only appear at high ocean health.
- Or only appear at low ocean health (mutated types).

This reinforces path experimentation.

---

# Development Order

1. Build static sidebar + grid layout.
2. Implement fish category with placeholder logic.
3. Add persistent discovery tracking.
4. Add fish detail panel with stats.
5. Implement recipes category.
6. Add lifetime stat tracking.
7. Polish UI visuals and icon consistency.

Do not:
- Overcomplicate with animations early.
- Add too many fish types before first ending exists.
- Add recipe branching before core loop is stable.

---

# Success Criteria

- Player can see all possible fish slots, even undiscovered.
- Undiscovered entries show meaningful but vague hints.
- Clicking a discovered fish shows accurate lifetime stats.
- Data persists across prestiges.
- Page feels rewarding, not overwhelming.
- Supports long-term multi-prestige play.

